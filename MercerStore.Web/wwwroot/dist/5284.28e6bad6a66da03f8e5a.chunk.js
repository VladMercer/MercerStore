"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[5284],{5284:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(6540),i=n(1468),c=n(8428),a=n(3485);var s=n(4848);const o=function(){var e,t,n,o,d,l,u,h,v,f,m,x,g;e=(0,i.wA)(),t=(0,c.W)(),n=t.pageNumber,o=t.pageSize,d=t.sortOrder,l=t.timePeriodFilter,u=t.filter,h=t.isLoaded,v=t.isPageReset,f=t.query,m=(0,r.useRef)(d),x=(0,r.useRef)(f),g=function(){e((0,a.Do)({pageNumber:n,pageSize:o,sortOrder:d,timePeriodFilter:l,filter:u,query:f}))},(0,r.useEffect)((function(){h?n>1&&(d!==m.current||f!==x.current)&&!v?(e((0,a.BG)(1)),e((0,a.vY)(!0))):(!v||v&&1===n)&&(g(),v&&1===n&&e((0,a.vY)(!1))):g(),m.current=d,x.current=f}),[n,o,d,l,u,f]),(0,i.wA)();var p=(0,c.W)().invoices,j=function(e){window.location.href="/admin/invoice/update/".concat(e)},P=(0,r.useMemo)((function(){return p&&0!==p.length?p.map((function(e){return(0,s.jsxs)("tr",{style:{cursor:"pointer",verticalAlign:"middle"},children:[(0,s.jsx)("td",{className:"text-center",onClick:function(){return j(e.id)},children:e.id}),(0,s.jsxs)("td",{className:"text-start",children:[(0,s.jsx)("div",{onClick:function(){return t=e.supplierId,void(window.location.href="/admin/supplier/update/".concat(t));var t},style:{cursor:"pointer",fontWeight:"bold"},children:e.companyName||"—"}),(0,s.jsx)("div",{onClick:function(){return t=e.managerId,void(window.location.href="/admin/user/update/".concat(t));var t},style:{cursor:"pointer"},children:e.managerId})]}),(0,s.jsxs)("td",{className:"text-start",onClick:function(){return j(e.id)},children:[(0,s.jsxs)("div",{children:["Получено: ",new Date(e.dateReceived).toLocaleDateString()]}),(0,s.jsxs)("div",{children:["Оплачено: ",e.paymentDate?new Date(e.paymentDate).toLocaleDateString():"—"]})]}),(0,s.jsxs)("td",{className:"text-start",onClick:function(){return j(e.id)},children:[(0,s.jsxs)("div",{children:[e.totalAmount," ₽"]}),(0,s.jsx)("div",{children:e.status})]}),(0,s.jsxs)("td",{className:"text-start",onClick:function(){return j(e.id)},children:[(0,s.jsx)("div",{children:e.phone||"—"}),(0,s.jsx)("div",{children:e.email||"—"})]})]},e.id)})):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"6",className:"text-center"})})}),[p]);return(0,s.jsxs)("table",{className:"table table-striped table-hover table-responsive-md table-sm",children:[(0,s.jsx)("thead",{className:"thead-dark",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"text-center",children:"ID"}),(0,s.jsx)("th",{className:"text-center",children:"Компания и Менеджер"}),(0,s.jsx)("th",{className:"text-center",children:"Даты"}),(0,s.jsx)("th",{className:"text-center",children:"Сумма и Статус"}),(0,s.jsx)("th",{className:"text-center",children:"Контакты"})]})}),(0,s.jsx)("tbody",{children:P})]})}},8428:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(1468),i=function(){var e=(0,r.d4)((function(e){return e.invoicePage.invoices})),t=(0,r.d4)((function(e){return e.invoicePage.pageNumber})),n=(0,r.d4)((function(e){return e.invoicePage.pageSize})),i=(0,r.d4)((function(e){return e.invoicePage.totalPages})),c=(0,r.d4)((function(e){return e.invoicePage.sortOrder})),a=(0,r.d4)((function(e){return e.invoicePage.totalInvoices})),s=(0,r.d4)((function(e){return e.invoicePage.isLoaded})),o=(0,r.d4)((function(e){return e.invoicePage.isPageReset})),d=(0,r.d4)((function(e){return e.invoicePage.timePeriodFilter})),l=(0,r.d4)((function(e){return e.invoicePage.filter}));return{query:(0,r.d4)((function(e){return e.invoicePage.query})),invoices:e,pageNumber:t,pageSize:n,totalPages:i,sortOrder:c,totalInvoices:a,isLoaded:s,isPageReset:o,timePeriodFilter:d,filter:l}}}}]);
//# sourceMappingURL=5284.28e6bad6a66da03f8e5a.chunk.js.map