"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[699],{699:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var s=t(6540),n=t(6634),i=t(1468),a=t(4825);var c=t(4848);const d=function(){var e,r,t,d,l,u,o,h,x,g,j,m,f;e=(0,i.wA)(),r=(0,n.k)(),t=r.pageNumber,d=r.pageSize,l=r.sortOrder,u=r.timePeriodFilter,o=r.filter,h=r.isLoaded,x=r.isPageReset,g=r.query,j=(0,s.useRef)(l),m=(0,s.useRef)(m),f=function(){e((0,a.hU)({pageNumber:t,pageSize:d,sortOrder:l,timePeriodFilter:u,filter:o,query:g}))},(0,s.useEffect)((function(){h?t>1&&(l!==j.current||g!==m.current)&&!x?(e((0,a.BG)(1)),e((0,a.vY)(!0))):(!x||x&&1===t)&&(f(),x&&1===t&&e((0,a.vY)(!1))):f(),j.current=l,m.current=g}),[t,d,l,u,o,g]);var v=(0,n.k)().users,N=(0,s.useMemo)((function(){return v&&0!==v.length?v.map((function(e){var r,t;return(0,c.jsxs)("tr",{onClick:function(){return window.location.href="/admin/user/update/".concat(e.id)},style:{cursor:"pointer",verticalAlign:"middle"},children:[(0,c.jsx)("td",{className:"text-center",children:e.imageUrl?(0,c.jsx)("img",{src:e.imageUrl,alt:"User",className:"rounded-circle",width:"50",height:"50"}):(0,c.jsx)("span",{className:"text-muted",children:"—"})}),(0,c.jsxs)("td",{className:"text-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Email:"})," ",e.email||"—"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Телефон:"})," ",e.phoneNumber||"—"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Адрес:"})," ",e.address||"—"]})]}),(0,c.jsxs)("td",{className:"text-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Создан:"})," ",new Date(e.createDate).toLocaleDateString()]}),e.lastActivityDate&&(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Активность:"})," ",new Date(e.lastActivityDate).toLocaleDateString()]})]}),(0,c.jsxs)("td",{className:"text-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Заказы:"})," ",null!==(r=e.countOrders)&&void 0!==r?r:0]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Отзывы:"})," ",null!==(t=e.countReviews)&&void 0!==t?t:0]})]}),(0,c.jsxs)("td",{className:"text-start",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"Роли:"})," ",e.roles&&e.roles.length>0?e.roles.join(", "):"—"]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("strong",{children:"ID:"})," ",e.id||"—"]})]})]},e.id)})):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:"6",className:"text-center",children:"Нет данных"})})}),[v]);return(0,c.jsxs)("table",{className:"table table-striped table-hover table-responsive-md table-sm",children:[(0,c.jsx)("thead",{className:"thead-dark",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"text-center",children:"Фото"}),(0,c.jsx)("th",{className:"text-center",children:"Контакты"}),(0,c.jsx)("th",{className:"text-center",children:"Даты"}),(0,c.jsx)("th",{className:"text-center",children:"Статистика"}),(0,c.jsx)("th",{className:"text-center",children:"Роли"})]})}),(0,c.jsx)("tbody",{children:N})]})}},6634:(e,r,t)=>{t.d(r,{k:()=>n});var s=t(1468),n=function(){var e=(0,s.d4)((function(e){return e.userPage.users})),r=(0,s.d4)((function(e){return e.userPage.pageNumber})),t=(0,s.d4)((function(e){return e.userPage.pageSize})),n=(0,s.d4)((function(e){return e.userPage.totalPages})),i=(0,s.d4)((function(e){return e.userPage.sortOrder})),a=(0,s.d4)((function(e){return e.userPage.totalUsers})),c=(0,s.d4)((function(e){return e.userPage.isLoaded})),d=(0,s.d4)((function(e){return e.userPage.isPageReset})),l=(0,s.d4)((function(e){return e.userPage.timePeriodFilter})),u=(0,s.d4)((function(e){return e.userPage.filter}));return{query:(0,s.d4)((function(e){return e.userPage.query})),users:e,pageNumber:r,pageSize:t,totalPages:n,sortOrder:i,totalUsers:a,isLoaded:c,isPageReset:d,timePeriodFilter:l,filter:u}}}}]);
//# sourceMappingURL=699.ca270c340d1d7269b3f6.chunk.js.map