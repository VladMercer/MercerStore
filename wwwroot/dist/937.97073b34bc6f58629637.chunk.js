"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[937,474],{6474:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a}),t(6540);var c=t(5453),n=t(4848);const a=function(e){var r=e.productId,t=(0,c._)().addToCart;return(0,n.jsxs)("button",{className:"btn btn-outline-warning",onClick:function(){return t(r)},children:[(0,n.jsx)("i",{className:"fas fa-shopping-cart"})," Добавить в корзину"]})}},5453:(e,r,t)=>{t.d(r,{_:()=>a});var c=t(1468),n=t(7064),a=function(){var e=(0,c.wA)(),r=(0,c.d4)((function(e){return e.cart}));return{items:r.items,totalPrice:r.totalPrice,itemCount:r.itemCount,addToCart:function(r){return e((0,n.bE)(r))},removeFromCart:function(r){return e((0,n.dt)(r))}}}},4937:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var c=t(6540),n=t(6474),a=t(9508),i=t(1468),d=t(985),o=t(2434);var s=t(4848);const u=function(){var e,r,t,u,l,f,g,m,p,x,P,h,v,y,j,b;e=(0,i.wA)(),r=(0,o.Y)(),t=r.selectedMinPrice,u=r.selectedMaxPrice,l=r.isPriceRangeLoaded,f=(0,a.K)(),g=f.categoryId,m=f.pageNumber,p=f.pageSize,x=f.sortOrder,P=f.isLoaded,h=f.isPageReset,v=(0,c.useRef)(x),y=(0,c.useRef)(t),j=(0,c.useRef)(u),b=function(){e((0,d.j0)({categoryId:g,pageNumber:m,pageSize:p,sortOrder:x,minPrice:t,maxPrice:u}))},(0,c.useEffect)((function(){g&&l&&(P?m>1&&(x!==v.current||t!==y.current||u!==j.current)&&!h?(e((0,d.BG)(1)),e((0,d.vY)(!0))):(!h||h&&1===m)&&(b(),h&&1===m&&e((0,d.vY)(!1))):b(),v.current=x,y.current=t,j.current=u)}),[l,m,p,x,t,u]);var N=(0,a.K)().products;return(0,s.jsx)("div",{className:"row",children:N&&N.length>0?N.map((function(e){return(0,s.jsx)("div",{className:"col-lg-4 col-sm-6 mb-3",children:(0,s.jsxs)("div",{className:"product-card",children:[(0,s.jsx)("div",{className:"product-thumb",children:(0,s.jsx)("a",{href:"/product/details/".concat(e.id),children:(0,s.jsx)("img",{src:e.mainImageUrl,alt:"фотокарточка"})})}),(0,s.jsxs)("div",{className:"product-details",children:[(0,s.jsx)("h4",{children:(0,s.jsx)("a",{href:"/product/details/".concat(e.id),dangerouslySetInnerHTML:{__html:e.name}})}),(0,s.jsx)("p",{className:"product-excerpt",children:e.description}),(0,s.jsxs)("div",{className:"product-bottom-details d-flex justify-content-between",children:[(0,s.jsxs)("div",{className:"product-price",children:[e.price,"₽"]}),(0,s.jsx)(n.default,{productId:e.id})]})]})]})},e.id)})):(0,s.jsx)("p",{children:"Нет продуктов"})})}},2434:(e,r,t)=>{t.d(r,{Y:()=>n});var c=t(1468),n=function(){return{minPrice:(0,c.d4)((function(e){return e.category.minPrice})),maxPrice:(0,c.d4)((function(e){return e.category.maxPrice})),selectedMinPrice:(0,c.d4)((function(e){return e.category.selectedMinPrice})),selectedMaxPrice:(0,c.d4)((function(e){return e.category.selectedMaxPrice})),isPriceRangeLoaded:(0,c.d4)((function(e){return e.category.isPriceRangeLoaded}))}}},9508:(e,r,t)=>{t.d(r,{K:()=>n});var c=t(1468),n=function(){var e=(0,c.d4)((function(e){return e.category.categoryId}));return{products:(0,c.d4)((function(e){return e.category.products})),pageNumber:(0,c.d4)((function(e){return e.category.pageNumber})),pageSize:(0,c.d4)((function(e){return e.category.pageSize})),totalPages:(0,c.d4)((function(e){return e.category.totalPages})),sortOrder:(0,c.d4)((function(e){return e.category.sortOrder})),categoryId:e,totalProducts:(0,c.d4)((function(e){return e.category.totalProducts})),isLoaded:(0,c.d4)((function(e){return e.category.isLoaded})),isPageReset:(0,c.d4)((function(e){return e.category.isPageReset}))}}}}]);