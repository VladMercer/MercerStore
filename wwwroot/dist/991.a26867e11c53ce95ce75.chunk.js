"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[991],{1991:(t,e,a)=>{a.r(e),a.d(e,{default:()=>i});var n=a(6540),s=a(5453),c=a(1468),r=a(1476);var d=a(4848);const i=function(){var t,e,a,i,l=(t=(0,c.wA)(),e=(0,c.d4)((function(t){return t.cart})),a=e.items,i=e.isLoaded,(0,n.useEffect)((function(){i||(t((0,r.HU)()),t((0,r.Tt)()))}),[i,t]),a),o=(0,s._)(),f=o.totalPrice,u=o.removeFromCart;return(0,n.useEffect)((function(){var t=document.getElementById("offcanvasCart");if(t){var e,a=new bootstrap.Offcanvas(t);null===(e=document.getElementById("cart-open"))||void 0===e||e.addEventListener("click",(function(t){t.preventDefault(),a.toggle()}))}}),[]),(0,d.jsxs)("div",{className:"offcanvas offcanvas-end",tabIndex:"-1",id:"offcanvasCart","aria-labelledby":"offcanvasCartLabel",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title",id:"offcanvasCartLabel",children:"Корзина"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:l.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsxs)("table",{className:"table offcanvasCart-table",children:[(0,d.jsx)("tbody",{children:l.map((function(t){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"product-img-td",children:(0,d.jsx)("a",{href:"/product/details/".concat(t.productId),children:(0,d.jsx)("img",{src:t.imageUrl,alt:t.name,className:"img-fluid product-image"})})}),(0,d.jsx)("td",{className:"product-cart-name-td",children:(0,d.jsx)("a",{href:"/product/details/".concat(t.productId),className:"product-name-link",children:t.name})}),(0,d.jsxs)("td",{className:"product-price-td",children:[t.price," ₽"]}),(0,d.jsxs)("td",{className:"product-quantity-td",children:["×",t.quantity]}),(0,d.jsx)("td",{className:"remove-btn-td",children:(0,d.jsx)("button",{onClick:function(){return u(t.productId)},className:"remove-from-cart-button",children:(0,d.jsx)("i",{className:"fa-solid fa-trash-can"})})})]},t.productId)}))}),(0,d.jsx)("tfoot",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:"3",className:"text-end-td",children:"Итого:"}),(0,d.jsxs)("td",{colSpan:"2",className:"total-price-td",children:[f," ₽"]})]})})]})}),(0,d.jsxs)("div",{className:"text-end mt-3 d-flex justify-content-between fixed-bottom-buttons",children:[(0,d.jsx)("a",{href:"/cart",className:"btn btn-outline-warning",id:"button-offcanvas-cart",children:"Перейти в корзину"}),(0,d.jsx)("a",{href:"/checkout",className:"btn btn-outline-warning",id:"button-offcanvas-checkout",children:"Оформить заказ"})]})]}):(0,d.jsx)("p",{children:"Ваша корзина пуста"})})]})}},5453:(t,e,a)=>{a.d(e,{_:()=>c});var n=a(1468),s=a(1476),c=function(){var t=(0,n.wA)(),e=(0,n.d4)((function(t){return t.cart}));return{items:e.items,totalPrice:e.totalPrice,itemCount:e.itemCount,addToCart:function(e){return t((0,s.bE)(e))},removeFromCart:function(e){return t((0,s.dt)(e))}}}}}]);