"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[991],{1991:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var s=t(6540),c=t(5453),n=t(1468),r=t(1476);var d=t(4848);const l=function(){var e,a,t,l,i=(e=(0,n.wA)(),a=(0,n.d4)((function(e){return e.cart})),t=a.items,l=a.isLoaded,(0,s.useEffect)((function(){l||e((0,r.Tt)())}),[l,e]),t),o=(0,c._)(),f=o.totalPrice,u=o.removeFromCart;return(0,s.useEffect)((function(){var e=document.getElementById("offcanvasCart");if(e){var a,t=new bootstrap.Offcanvas(e);null===(a=document.getElementById("cart-open"))||void 0===a||a.addEventListener("click",(function(e){e.preventDefault(),t.toggle()}))}}),[]),(0,d.jsxs)("div",{className:"offcanvas offcanvas-end",tabIndex:"-1",id:"offcanvasCart","aria-labelledby":"offcanvasCartLabel",children:[(0,d.jsxs)("div",{className:"offcanvas-header",children:[(0,d.jsx)("h5",{className:"offcanvas-title",id:"offcanvasCartLabel",children:"Корзина"}),(0,d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,d.jsx)("div",{className:"offcanvas-body",children:i.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsxs)("table",{className:"table offcanvasCart-table",children:[(0,d.jsx)("tbody",{children:i.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"product-img-td",children:(0,d.jsx)("a",{href:"/product/details/".concat(e.productId),children:(0,d.jsx)("img",{src:e.imageUrl,alt:e.name,className:"img-fluid product-image"})})}),(0,d.jsx)("td",{className:"product-cart-name-td",children:(0,d.jsx)("a",{href:"/product/details/".concat(e.productId),className:"product-name-link",children:e.name})}),(0,d.jsxs)("td",{className:"product-price-td",children:[e.price," ₽"]}),(0,d.jsxs)("td",{className:"product-quantity-td",children:["×",e.quantity]}),(0,d.jsx)("td",{className:"remove-btn-td",children:(0,d.jsx)("button",{onClick:function(){return u(e.productId)},className:"remove-from-cart-button",children:(0,d.jsx)("i",{className:"fa-solid fa-trash-can"})})})]},e.productId)}))}),(0,d.jsx)("tfoot",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:"3",className:"text-end-td",children:"Итого:"}),(0,d.jsxs)("td",{colSpan:"2",className:"total-price-td",children:[f," ₽"]})]})})]})}),(0,d.jsxs)("div",{className:"text-end mt-3 d-flex justify-content-between fixed-bottom-buttons",children:[(0,d.jsx)("a",{href:"/cart",className:"btn btn-outline-warning",id:"button-offcanvas-cart",children:"Перейти в корзину"}),(0,d.jsx)("a",{href:"/checkout",className:"btn btn-outline-warning",id:"button-offcanvas-checkout",children:"Оформить заказ"})]})]}):(0,d.jsx)("p",{children:"Ваша корзина пуста"})})]})}}}]);