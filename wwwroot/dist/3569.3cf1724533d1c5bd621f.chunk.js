"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[3569,5997],{5997:(e,r,t)=>{t.r(r),t.d(r,{default:()=>s}),t(6540);var n=t(2384),a=t(4848);const s=function(e){var r=e.productId,t=(0,n._)().addToCart;return(0,a.jsxs)("button",{className:"btn btn-outline-warning",onClick:function(){return t(r)},children:[(0,a.jsx)("i",{className:"fas fa-shopping-cart"})," Добавить в корзину"]})}},2384:(e,r,t)=>{t.d(r,{_:()=>s});var n=t(1468),a=t(459),s=function(){var e=(0,n.wA)(),r=(0,n.d4)((function(e){return e.cart}));return{items:r.items,totalPrice:r.totalPrice,itemCount:r.itemCount,addToCart:function(r){return e((0,a.bE)(r))},removeFromCart:function(r){return e((0,a.dt)(r))}}}},3569:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var n=t(6540),a=t(5997),s=t(5412),c=t(1468),u=t(499);var i=t(4848);const d=function(){var e,r,t,d,o,l,f,m,h,g,p;e=(0,c.wA)(),r=(0,s.n)(),t=r.query,d=r.pageNumber,o=r.pageSize,l=r.sortOrder,f=r.isLoaded,m=r.isPageReset,h=(0,n.useRef)(l),g=(0,n.useRef)(o),p=function(){e((0,u.Jf)({query:t,sortOrder:l,pageNumber:d,pageSize:o}))},(0,n.useEffect)((function(){var r=new URLSearchParams(window.location.search).get("query");e((0,u.NY)(r))}),[]),(0,n.useEffect)((function(){t&&(f?d>1&&(l!==h.current||g.current!==o)&&!m?(e((0,u.BG)(1)),e((0,u.vY)(!0))):(!m||m&&1===d)&&(p(),m&&1===d&&e((0,u.vY)(!1))):p(),h.current=l,g.current=o)}),[t,d,o,l]);var v=(0,s.n)().results;return(0,i.jsx)("div",{className:"row",children:v&&v.length>0?v.map((function(e){return(0,i.jsx)("div",{className:"col-lg-4 col-sm-6 mb-3",children:(0,i.jsxs)("div",{className:"product-card",children:[(0,i.jsx)("div",{className:"product-thumb",children:(0,i.jsx)("a",{href:"/product/details/".concat(e.id),children:(0,i.jsx)("img",{src:e.mainImageUrl,alt:"фотокарточка"})})}),(0,i.jsxs)("div",{className:"product-details",children:[(0,i.jsx)("h4",{children:(0,i.jsx)("a",{href:"/product/details/".concat(e.id),dangerouslySetInnerHTML:{__html:e.name}})}),(0,i.jsx)("p",{className:"product-excerpt",children:e.description}),(0,i.jsxs)("div",{className:"product-bottom-details d-flex justify-content-between",children:[(0,i.jsxs)("div",{className:"product-price",children:[e.price,"₽"]}),(0,i.jsx)(a.default,{productId:e.id})]})]})]})},e.id)})):(0,i.jsx)("p",{children:"Нет продуктов"})})}},5412:(e,r,t)=>{t.d(r,{n:()=>a});var n=t(1468),a=function(){return{results:(0,n.d4)((function(e){return e.searchPage.results})),pageNumber:(0,n.d4)((function(e){return e.searchPage.pageNumber})),pageSize:(0,n.d4)((function(e){return e.searchPage.pageSize})),totalPages:(0,n.d4)((function(e){return e.searchPage.totalPages})),sortOrder:(0,n.d4)((function(e){return e.searchPage.sortOrder})),isLoaded:(0,n.d4)((function(e){return e.searchPage.isLoaded})),isPageReset:(0,n.d4)((function(e){return e.searchPage.isPageReset})),query:(0,n.d4)((function(e){return e.searchPage.query})),totalItems:(0,n.d4)((function(e){return e.searchPage.totalItems}))}}}}]);
//# sourceMappingURL=3569.3cf1724533d1c5bd621f.chunk.js.map