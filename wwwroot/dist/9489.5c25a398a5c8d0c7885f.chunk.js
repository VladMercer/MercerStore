"use strict";(self.webpackChunkmercerstore=self.webpackChunkmercerstore||[]).push([[9489,5997],{5997:(e,r,t)=>{t.r(r),t.d(r,{default:()=>a}),t(6540);var c=t(2384),n=t(4848);const a=function(e){var r=e.productId,t=(0,c._)().addToCart;return(0,n.jsxs)("button",{className:"btn btn-outline-warning",onClick:function(){return t(r)},children:[(0,n.jsx)("i",{className:"fas fa-shopping-cart"})," Добавить в корзину"]})}},2384:(e,r,t)=>{t.d(r,{_:()=>a});var c=t(1468),n=t(459),a=function(){var e=(0,c.wA)(),r=(0,c.d4)((function(e){return e.cart}));return{items:r.items,totalPrice:r.totalPrice,itemCount:r.itemCount,addToCart:function(r){return e((0,n.bE)(r))},removeFromCart:function(r){return e((0,n.dt)(r))}}}},9489:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var c=t(6540),n=t(5997),a=t(8269),i=t(1468),d=t(2236),s=t(7379);var o=t(4848);const u=function(){var e,r,t,u,l,g,m,f,p,x,P,h,v,j,y,N;e=(0,i.wA)(),r=(0,s.Y)(),t=r.selectedMinPrice,u=r.selectedMaxPrice,l=r.isPriceRangeLoaded,g=(0,a.K)(),m=g.categoryId,f=g.pageNumber,p=g.pageSize,x=g.sortOrder,P=g.isLoaded,h=g.isPageReset,v=(0,c.useRef)(x),j=(0,c.useRef)(t),y=(0,c.useRef)(u),N=function(){e((0,d.j0)({categoryId:m,pageNumber:f,pageSize:p,sortOrder:x,minPrice:t,maxPrice:u}))},(0,c.useEffect)((function(){m&&l&&(P?f>1&&(x!==v.current||t!==j.current||u!==y.current)&&!h?(e((0,d.BG)(1)),e((0,d.vY)(!0))):(!h||h&&1===f)&&(N(),h&&1===f&&e((0,d.vY)(!1))):N(),v.current=x,j.current=t,y.current=u)}),[l,f,p,x,t,u]);var b=(0,a.K)().products;return(0,o.jsx)("div",{className:"row",children:b&&b.length>0?b.map((function(e){return(0,o.jsx)("div",{className:"col-lg-4 col-sm-6 mb-3",children:(0,o.jsxs)("div",{className:"product-card",children:[(0,o.jsx)("div",{className:"product-thumb",children:(0,o.jsx)("a",{href:"/product/details/".concat(e.id),children:(0,o.jsx)("img",{src:e.mainImageUrl,alt:"фотокарточка"})})}),(0,o.jsxs)("div",{className:"product-details",children:[(0,o.jsx)("h4",{children:(0,o.jsx)("a",{href:"/product/details/".concat(e.id),dangerouslySetInnerHTML:{__html:e.name}})}),(0,o.jsx)("p",{className:"product-excerpt",children:e.description}),(0,o.jsxs)("div",{className:"product-bottom-details d-flex justify-content-between align-items-center",children:[e.discountedPrice?(0,o.jsxs)("div",{className:"price-container",children:[(0,o.jsxs)("small",{className:"old-price-card",children:[e.price.toLocaleString(),"₽"]}),(0,o.jsxs)("div",{className:"product-price",children:[e.discountedPrice.toLocaleString(),"₽"]})]}):(0,o.jsxs)("div",{className:"product-price",children:[e.price.toLocaleString(),"₽"]}),(0,o.jsx)(n.default,{productId:e.id})]})]})]})},e.id)})):(0,o.jsx)("p",{children:"Нет продуктов"})})}},7379:(e,r,t)=>{t.d(r,{Y:()=>n});var c=t(1468),n=function(){return{minPrice:(0,c.d4)((function(e){return e.category.minPrice})),maxPrice:(0,c.d4)((function(e){return e.category.maxPrice})),selectedMinPrice:(0,c.d4)((function(e){return e.category.selectedMinPrice})),selectedMaxPrice:(0,c.d4)((function(e){return e.category.selectedMaxPrice})),isPriceRangeLoaded:(0,c.d4)((function(e){return e.category.isPriceRangeLoaded}))}}},8269:(e,r,t)=>{t.d(r,{K:()=>n});var c=t(1468),n=function(){var e=(0,c.d4)((function(e){return e.category.categoryId}));return{products:(0,c.d4)((function(e){return e.category.products})),pageNumber:(0,c.d4)((function(e){return e.category.pageNumber})),pageSize:(0,c.d4)((function(e){return e.category.pageSize})),totalPages:(0,c.d4)((function(e){return e.category.totalPages})),sortOrder:(0,c.d4)((function(e){return e.category.sortOrder})),categoryId:e,totalProducts:(0,c.d4)((function(e){return e.category.totalProducts})),isLoaded:(0,c.d4)((function(e){return e.category.isLoaded})),isPageReset:(0,c.d4)((function(e){return e.category.isPageReset}))}}}}]);
//# sourceMappingURL=9489.5c25a398a5c8d0c7885f.chunk.js.map